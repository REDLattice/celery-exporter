[tox]
envlist = py{34,35,36}-celery4, lint

[testenv]
deps =
    py-36: black==19.3b0
    -rrequirements/requirements_test.txt
    -rrequirements/requirements.txt
commands =
    py-36: black . --check
    
    coverage run -m py.test {toxinidir}/test/
    coverage report


[testenv:lint]
basepython = python3
deps = pylint>=2.0.0,<3
commands = pylint celery_prometheus_exporter test
